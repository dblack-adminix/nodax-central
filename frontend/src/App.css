@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap');

* { margin: 0; padding: 0; box-sizing: border-box; }
:root {
  --primary: #16a2a7;
  --primary-hover: #11858a;
  --success: #18a05e;
  --warning: #d17a22;
  --danger: #d33b3b;
  --info: #2b7de9;
  --bg-app: #f2f4f6;
  --bg-card: #ffffff;
  --bg-sidebar: rgba(255,255,255,0.82);
  --border-main: #eef1f4;
  --border-hover: #d9e0e6;
  --shadow-card: 0 6px 20px rgba(15, 23, 42, 0.06);
  --text-main: #1f2937;
  --text-dim: #4b5563;
  --text-muted: #9aa3af;
  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 14px;
}
body {
  font-family: 'Inter', -apple-system, sans-serif;
  background: var(--bg-app);
  color: var(--text-main);
  font-size: 13px;
  line-height: 1.4;
  overflow: hidden;
}
button { font-family: inherit; font-size: 12px; font-weight: 600; cursor: pointer; border: 1px solid transparent; transition: all 0.1s ease; }
input { font-family: inherit; font-size: 13px; border: 1px solid var(--border-main); border-radius: var(--radius-sm); padding: 6px 10px; background: var(--bg-card); color: var(--text-main); }

/* BG Gradient (same as local app) */
.app-bg {
  position: fixed; inset: 0; z-index: -1;
  background:
    radial-gradient(ellipse 80% 80% at 30% 50%, rgba(120, 190, 60, 0.45) 0%, transparent 60%),
    radial-gradient(ellipse 70% 70% at 70% 40%, rgba(30, 140, 150, 0.5) 0%, transparent 60%),
    radial-gradient(ellipse 90% 90% at 50% 80%, rgba(40, 120, 90, 0.4) 0%, transparent 60%),
    linear-gradient(135deg, #2d6a4f 0%, #40916c 25%, #74b35a 45%, #52b69a 65%, #1a8a8a 85%, #1b6b6b 100%);
}

.app { display: flex; height: 100vh; }

/* ============================================================
   SIDEBAR
   ============================================================ */
.sidebar {
  width: 250px; flex-shrink: 0; display: flex; flex-direction: column;
  background: rgba(255,255,255,0.82); backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px);
  border-right: 1px solid rgba(255,255,255,0.3); box-shadow: 1px 0 12px rgba(0,0,0,0.06);
}
.sidebar-header {
  display: flex; align-items: center; gap: 12px; padding: 14px 16px; cursor: pointer;
  border-bottom: 1px solid var(--border-main);
}
.sidebar-logo { height: 38px; width: auto; object-fit: contain; }
.logo-text { font-size: 13px; font-weight: 800; letter-spacing: 1px; text-transform: uppercase; }
.label-gradient {
  background: linear-gradient(135deg, #e8820c 0%, #d4a017 40%, #5cb85c 70%, #16a2a7 100%);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; font-weight: 900;
}
.sidebar-nav { flex: 1; padding: 6px 8px; overflow-y: auto; }
.nav-item {
  display: flex; align-items: center; gap: 10px; width: 100%; padding: 9px 14px;
  border: none; background: transparent; color: var(--text-dim); font-size: 13px; font-weight: 600;
  border-radius: var(--radius-sm); cursor: pointer; transition: all .12s; text-align: left;
}
.nav-item:hover { background: rgba(22,162,167,0.08); color: var(--text-main); }
.nav-item.active { background: rgba(22,162,167,0.14); color: var(--primary); }
.nav-icon { font-size: 15px; width: 20px; text-align: center; }
.nav-section { font-size: 10px; font-weight: 700; text-transform: uppercase; color: var(--text-muted); padding: 14px 14px 4px; letter-spacing: 1.2px; }
.nav-section-btn {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 14px 4px;
  border: none;
  background: transparent;
  color: var(--text-muted);
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1.2px;
  cursor: pointer;
}
.nav-section-btn:hover { color: var(--text-dim); }
.nav-fold {
  display: inline-flex;
  transition: transform .16s ease;
  font-size: 11px;
}
.nav-fold.folded { transform: rotate(-90deg); }
.nav-group { display: flex; flex-direction: column; }
.nav-add { color: var(--primary); }

.status-dot { display: inline-block; width: 7px; height: 7px; border-radius: 50%; flex-shrink: 0; }
.dot-online { background: var(--success); box-shadow: 0 0 6px rgba(24,160,94,0.5); }
.dot-offline { background: var(--danger); opacity: 0.5; }

/* ============================================================
   MAIN CONTENT
   ============================================================ */
.main-content { flex: 1; padding: 24px 28px; overflow-y: auto; max-height: 100vh; }
h1 { font-size: 20px; font-weight: 800; margin-bottom: 20px; color: #fff; text-shadow: 0 1px 8px rgba(0,0,0,0.5), 0 0 2px rgba(0,0,0,0.3); }
h2 { font-size: 15px; font-weight: 700; margin: 20px 0 12px; color: #fff; text-shadow: 0 1px 6px rgba(0,0,0,0.5), 0 0 2px rgba(0,0,0,0.3); }

/* ============================================================
   OVERVIEW CARDS (Glassmorphism)
   ============================================================ */
.overview-cards { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 14px; margin-bottom: 20px; }
.ov-card {
  background: #fff;
  border: 1px solid var(--border-main); border-radius: var(--radius-md); padding: 18px 20px;
  text-align: center; box-shadow: var(--shadow-card); transition: all .12s;
}
.ov-card:hover { border-color: var(--border-hover); box-shadow: 0 8px 28px rgba(0,0,0,0.1); }
.ov-value { font-size: 28px; font-weight: 800; color: var(--primary); }
.ov-label { font-size: 11px; font-weight: 600; color: var(--text-muted); margin-top: 4px; text-transform: uppercase; letter-spacing: 0.4px; }

/* ============================================================
   HOST GRID (Cards)
   ============================================================ */
.host-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 14px; }
.host-card {
  background: #fff;
  border: 1px solid var(--border-main); border-radius: var(--radius-md); padding: 16px 18px;
  box-shadow: var(--shadow-card); transition: all .12s;
}
.host-card:hover { border-color: var(--border-hover); box-shadow: 0 8px 28px rgba(0,0,0,0.1); }
.hc-online { border-left: 3px solid var(--success); }
.hc-offline { border-left: 3px solid var(--danger); opacity: 0.7; }
.hc-header { display: flex; justify-content: space-between; align-items: center; }
.hc-name { font-size: 14px; font-weight: 700; cursor: pointer; display: flex; align-items: center; gap: 8px; color: var(--text-main); }
.hc-name:hover { color: var(--primary); }
.hc-delete { background: none; border: none; color: var(--text-muted); cursor: pointer; font-size: 14px; padding: 2px 6px; border-radius: 4px; }
.hc-delete:hover { color: var(--danger); background: rgba(211,59,59,0.08); }
.hc-url { font-size: 11px; color: var(--text-muted); margin-top: 4px; font-family: 'JetBrains Mono', monospace; }
.hc-status { font-size: 12px; margin-top: 6px; font-weight: 700; }
.hc-lastseen { font-size: 10px; color: var(--text-muted); margin-top: 2px; }
.hc-open { margin-top: 10px; padding: 5px 14px; background: rgba(22,162,167,0.1); color: var(--primary); border: 1px solid rgba(22,162,167,0.25); border-radius: var(--radius-sm); cursor: pointer; font-weight: 700; font-size: 12px; }
.hc-open:hover { background: rgba(22,162,167,0.18); }

/* ============================================================
   HOST DETAIL PAGE — Top Bar
   ============================================================ */
.host-topbar {
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 18px; margin-bottom: 10px;
  background: #fff; border: 1px solid rgba(22,162,167,0.25);
  border-radius: var(--radius-md); box-shadow: var(--shadow-card);
}
.topbar-left { display: flex; align-items: center; gap: 10px; }
.topbar-right { display: flex; align-items: center; gap: 10px; }
.back-btn { padding: 4px 8px; background: transparent; border: 1px solid var(--border-main); color: var(--text-dim); border-radius: var(--radius-sm); cursor: pointer; font-size: 14px; font-weight: 600; line-height: 1; }
.back-btn:hover { color: var(--primary); border-color: var(--primary); }
.topbar-host { font-size: 14px; font-weight: 800; color: var(--primary); letter-spacing: 0.5px; }
.topbar-port { font-size: 11px; font-weight: 600; color: var(--text-muted); background: #f1f5f9; padding: 3px 10px; border-radius: var(--radius-sm); font-family: 'JetBrains Mono', monospace; }
.topbar-svc { display: flex; align-items: center; gap: 6px; font-size: 12px; font-weight: 700; padding: 5px 14px; border-radius: var(--radius-sm); }
.topbar-svc-on { background: rgba(34,197,94,0.1); color: #16a34a; border: 1px solid rgba(34,197,94,0.25); }
.topbar-svc-off { background: rgba(239,68,68,0.1); color: #dc2626; border: 1px solid rgba(239,68,68,0.25); }
.topbar-create-btn {
  padding: 6px 16px; font-size: 12px; font-weight: 700; border: none;
  border-radius: var(--radius-sm); background: var(--primary); color: #fff; cursor: pointer; transition: all .1s;
}
.topbar-create-btn:hover { opacity: 0.85; }
.topbar-del-btn {
  width: 28px; height: 28px; display: flex; align-items: center; justify-content: center;
  border: 1px solid rgba(239,68,68,0.3); background: rgba(239,68,68,0.06); color: var(--danger);
  border-radius: var(--radius-sm); cursor: pointer; font-size: 13px; font-weight: 700; transition: all .1s;
}
.topbar-del-btn:hover { background: rgba(239,68,68,0.15); }

/* Deploy VM form */
.deploy-grid { display: grid; grid-template-columns: 130px 1fr; gap: 10px 14px; align-items: start; }
.deploy-grid .modal-label { padding-top: 10px; margin-bottom: 0; }
.deploy-cpu-ram { display: flex; align-items: center; gap: 8px; }
.deploy-unit { font-size: 11px; color: var(--text-muted); font-weight: 600; }
.deploy-disks { display: flex; flex-direction: column; gap: 6px; }
.deploy-disk-row { display: flex; align-items: center; gap: 8px; }
.deploy-disk-label { font-size: 11px; color: var(--text-dim); min-width: 50px; }
.deploy-disk-del { background: none; border: none; color: var(--danger); cursor: pointer; font-size: 14px; padding: 2px 6px; }
.deploy-disk-del:hover { opacity: 0.7; }
.deploy-disk-add {
  align-self: flex-start; background: none; border: 1px dashed var(--primary); color: var(--primary);
  border-radius: 4px; padding: 3px 12px; font-size: 11px; font-weight: 600; cursor: pointer;
}
.deploy-disk-add:hover { background: rgba(22,162,167,0.06); }
.deploy-loading { color: var(--primary); font-weight: 600; margin-top: 10px; font-size: 13px; }
.error-banner { background: rgba(211,59,59,0.08); border: 1px solid rgba(211,59,59,0.25); color: var(--danger); padding: 10px 14px; border-radius: var(--radius-sm); margin: 12px 0; font-size: 13px; font-weight: 600; }

/* ============================================================
   HOST METRICS (Glassmorphism cards with bars)
   ============================================================ */
.host-metrics { display: flex; gap: 10px; margin: 14px 0; overflow-x: auto; }
.hm-card {
  flex: 1; min-width: 120px;
  background: #fff;
  border: 1px solid var(--border-main); border-radius: var(--radius-md); padding: 10px 14px;
  box-shadow: var(--shadow-card);
}
.hm-label { font-size: 10px; color: var(--text-muted); font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; }
.hm-value { font-size: 18px; font-weight: 800; margin: 2px 0 4px; color: var(--text-main); }
.hm-bar { height: 4px; background: #e9eef2; border-radius: 4px; overflow: hidden; }
.hm-fill { height: 100%; border-radius: 4px; transition: width .5s ease; }

/* ============================================================
   HEALTH CHECKS
   ============================================================ */
.section { margin: 20px 0; }
.health-grid { display: flex; flex-wrap: wrap; gap: 6px; }
.health-item {
  display: flex; align-items: center; gap: 6px; padding: 7px 12px;
  background: #fff;
  border: 1px solid var(--border-main); border-radius: var(--radius-sm); font-size: 11px;
  flex: 1; min-width: 180px;
}
.hi-ok { border-left: 3px solid var(--success); }
.hi-warning { border-left: 3px solid var(--warning); }
.hi-error { border-left: 3px solid var(--danger); }
.hi-icon { font-size: 14px; }
.hi-name { font-weight: 700; flex: 1; color: var(--text-main); }
.hi-value { color: var(--text-muted); font-size: 11px; font-family: 'JetBrains Mono', monospace; }

/* ============================================================
   VM TABLE
   ============================================================ */
.vm-table {
  width: 100%; border-collapse: collapse;
  background: #fff;
  border: 1px solid var(--border-main); border-radius: var(--radius-md); overflow: hidden;
  box-shadow: var(--shadow-card);
}
.vm-table th { text-align: left; padding: 10px 14px; background: #f7fafc; font-size: 10px; font-weight: 700; color: var(--text-dim); text-transform: uppercase; letter-spacing: 0.5px; border-bottom: 1px solid var(--border-main); }
.vm-table td { padding: 9px 14px; font-size: 12px; border-bottom: 1px solid var(--border-main); }
.vm-table tr:hover td { background: #f7fafa; }

/* Status badge (matching local app) */
.status-badge { display: inline-flex; align-items: center; padding: 2px 8px; border-radius: 999px; font-size: 10px; font-weight: 700; text-transform: uppercase; }
.status-badge.success { background: rgba(24,160,94,0.12); color: var(--success); }
.status-badge.stopped { background: rgba(211,59,59,0.08); color: var(--danger); }

/* ============================================================
   MODAL (Glassmorphism)
   ============================================================ */
.modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.35); display: flex; align-items: center; justify-content: center; z-index: 2000; backdrop-filter: blur(4px); }
.modal {
  background: var(--bg-card); border: 1px solid var(--border-main); border-radius: var(--radius-lg);
  padding: 24px; width: 400px; max-width: 90vw; box-shadow: 0 20px 60px rgba(0,0,0,0.15);
}
.modal h2 { margin-bottom: 18px; font-size: 16px; }
.form-group { margin-bottom: 14px; }
.form-group label { display: block; font-size: 11px; font-weight: 700; color: var(--text-dim); margin-bottom: 5px; text-transform: uppercase; letter-spacing: 0.5px; }
.form-group input { width: 100%; padding: 8px 12px; background: var(--bg-app); border: 1px solid var(--border-main); border-radius: var(--radius-sm); color: var(--text-main); font-size: 13px; outline: none; }
.form-group input:focus { border-color: var(--primary); box-shadow: 0 0 0 2px rgba(22,162,167,0.15); }
.form-error { color: var(--danger); font-size: 12px; margin-bottom: 10px; font-weight: 600; }
.modal-actions { display: flex; gap: 8px; justify-content: flex-end; margin-top: 18px; }
.btn { padding: 8px 18px; border-radius: var(--radius-sm); font-size: 12px; font-weight: 700; cursor: pointer; border: none; transition: all .12s; }
.btn-primary { background: var(--primary); color: #fff; }
.btn-primary:hover { background: var(--primary-hover); }
.btn-secondary { background: transparent; border: 1px solid var(--border-main); color: var(--text-dim); }
.btn-secondary:hover { border-color: var(--border-hover); color: var(--text-main); }

/* ============================================================
   METRIC CARD EXTRAS
   ============================================================ */
.hm-sub { font-size: 10px; color: var(--text-muted); margin-bottom: 4px; }
.hm-value-sm { font-size: 15px; }

/* ============================================================
   HEALTH INFO LAYOUT
   ============================================================ */
.hi-info { display: flex; flex-direction: column; gap: 1px; flex: 1; min-width: 0; }
.hi-msg { font-size: 10px; color: var(--warning); }

/* ============================================================
   VM TOOLBAR (search + filter, like local app)
   ============================================================ */
.vm-toolbar { display: flex; justify-content: space-between; align-items: center; gap: 12px; flex-wrap: wrap; margin-bottom: 10px; }
.vm-toolbar h2 { margin: 0; white-space: nowrap; }
.vm-toolbar-right { display: flex; align-items: center; gap: 8px; }

.search-box {
  display: flex; align-items: center; gap: 6px; padding: 0 10px; height: 32px;
  background: #fff;
  border: 1px solid var(--border-main); border-radius: var(--radius-sm);
}
.search-box input { border: none; background: transparent; padding: 0; font-size: 12px; width: 140px; outline: none; }
.search-box span { font-size: 13px; }

.filter-btns { display: flex; background: #fff; border: 1px solid var(--border-main); border-radius: var(--radius-sm); overflow: hidden; }
.fbtn {
  padding: 6px 12px; font-size: 11px; font-weight: 700; border: none; background: transparent;
  color: var(--text-dim); cursor: pointer; transition: all .1s;
}
.fbtn:not(:last-child) { border-right: 1px solid var(--border-main); }
.fbtn.active { background: var(--primary); color: #fff; }
.fbtn:hover:not(.active) { background: rgba(22,162,167,0.08); }

/* ============================================================
   VM ACTION BUTTONS (matching local app)
   ============================================================ */
.vm-row-on { background: rgba(22,162,167,0.03); }
.mgmt-cell { display: flex; align-items: center; gap: 4px; white-space: nowrap; }
.mgmt-label { font-size: 11px; font-weight: 600; color: var(--text-muted); padding: 4px 10px; background: #f1f5f9; border-radius: var(--radius-sm); }
.mgmt-icon { width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; border: 1px solid var(--border-main); border-radius: var(--radius-sm); background: #fff; font-size: 13px; cursor: pointer; transition: all .1s; color: var(--text-dim); }
.mgmt-icon:hover:not(:disabled) { border-color: var(--primary); color: var(--primary); background: rgba(22,162,167,0.05); }
.mgmt-icon:disabled { opacity: 0.3; cursor: not-allowed; }
.act-btn { padding: 4px 12px; border-radius: var(--radius-sm); font-size: 11px; font-weight: 700; border: none; cursor: pointer; transition: all .1s; }
.act-start { background: var(--success); color: #fff; }
.act-start:hover { opacity: 0.85; }
.act-stop { background: rgba(211,59,59,0.1); color: var(--danger); border: 1px solid rgba(211,59,59,0.25); }
.act-stop:hover { background: rgba(211,59,59,0.18); }
.act-btn:disabled { opacity: 0.5; cursor: not-allowed; }

.actions-cell { display: flex; gap: 4px; align-items: center; white-space: nowrap; }
.act-icon {
  width: 28px; height: 28px; display: flex; align-items: center; justify-content: center;
  background: #f8fafc; border: 1px solid var(--border-main); border-radius: var(--radius-sm);
  cursor: pointer; font-size: 13px; transition: all .1s;
}
.act-icon:hover { background: rgba(22,162,167,0.1); border-color: var(--primary); }
.act-icon:disabled { opacity: 0.4; cursor: not-allowed; }

/* ============================================================
   TABS NAVIGATION
   ============================================================ */
.tabs-nav {
  display: flex; gap: 4px; margin: 12px 0 16px; padding: 4px;
  background: #fff; border: 1px solid var(--border-main); border-radius: var(--radius-sm);
}
.tab-btn {
  padding: 8px 20px; font-size: 12px; font-weight: 700; color: var(--text-dim);
  background: transparent; border: none; border-radius: var(--radius-sm); cursor: pointer; transition: all .1s;
}
.tab-btn:hover { background: var(--bg-app); color: var(--text-main); }
.tab-btn.active { background: var(--primary); color: #fff; }
.tab-content { margin-top: 4px; }

/* ============================================================
   BACKUPS TAB
   ============================================================ */
.backup-list { display: flex; flex-direction: column; gap: 6px; margin-bottom: 20px; }
.backup-row {
  display: flex; align-items: center; justify-content: space-between; gap: 12px;
  padding: 10px 16px; background: #fff; border: 1px solid var(--border-main);
  border-radius: var(--radius-sm); box-shadow: var(--shadow-card);
}
.backup-vm-info { display: flex; align-items: center; gap: 10px; min-width: 180px; }
.backup-vm-actions { display: flex; align-items: center; gap: 8px; }
.backup-dest { width: 260px; height: 30px; font-size: 12px; padding: 0 10px; border: 1px solid var(--border-main); border-radius: var(--radius-sm); background: var(--bg-app); }
.btn-warning { background: var(--warning); color: #fff; border: none; padding: 6px 14px; border-radius: var(--radius-sm); font-size: 11px; font-weight: 700; white-space: nowrap; }
.btn-warning:hover { opacity: 0.85; }
.btn-warning:disabled { opacity: 0.5; cursor: not-allowed; }
.backup-log-content {
  background: #0f172a; color: #e2e8f0; padding: 14px; border-radius: var(--radius-sm);
  font-family: 'JetBrains Mono', monospace; font-size: 11px; max-height: 50vh; overflow: auto;
  white-space: pre-wrap; word-break: break-all;
}
.info-banner { background: rgba(22,162,167,0.08); border: 1px solid rgba(22,162,167,0.25); color: var(--primary); padding: 8px 14px; border-radius: var(--radius-sm); margin-bottom: 12px; font-size: 12px; font-weight: 600; }

/* ============================================================
   JOURNAL TAB
   ============================================================ */
.journal-top { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; flex-wrap: wrap; }
.journal-title { margin: 0; font-size: 16px; font-weight: 800; }
.journal-filters { display: flex; gap: 2px; background: #f1f5f9; border-radius: var(--radius-sm); padding: 2px; }
.jf-btn {
  padding: 5px 14px; font-size: 11px; font-weight: 700; border: none; border-radius: var(--radius-sm);
  background: transparent; color: var(--text-dim); cursor: pointer; transition: all .1s;
}
.jf-btn.active { background: #fff; color: var(--primary); box-shadow: 0 1px 3px rgba(0,0,0,0.08); }
.journal-actions { display: flex; align-items: center; gap: 8px; margin-left: auto; }
.log-count { font-size: 12px; font-weight: 700; color: var(--primary); background: rgba(22,162,167,0.08); padding: 4px 10px; border-radius: var(--radius-sm); }
.btn-danger-sm { background: var(--danger); color: #fff; border: none; padding: 5px 12px; border-radius: var(--radius-sm); font-size: 11px; font-weight: 700; cursor: pointer; }
.btn-danger-sm:hover { opacity: 0.85; }

.journal-card { background: #fff; border: 1px solid var(--border-main); border-radius: var(--radius-md); box-shadow: var(--shadow-card); overflow: hidden; }
.journal-table { width: 100%; border-collapse: collapse; font-size: 12px; }
.journal-table thead th { padding: 10px 12px; text-align: left; font-size: 11px; font-weight: 700; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.3px; border-bottom: 2px solid var(--border-main); background: #fafbfc; }
.journal-table tbody td { padding: 9px 12px; border-bottom: 1px solid #f1f5f9; }
.journal-row { cursor: pointer; transition: background .08s; }
.journal-row:hover { background: #f8fafc; }
.journal-row.expanded { background: #f0fdfa; }
.col-mono { font-family: 'JetBrains Mono', monospace; font-size: 11px; color: var(--text-dim); white-space: nowrap; }
.col-vm { font-weight: 600; color: var(--text-main); }
.col-msg-j { color: var(--text-dim); font-size: 11px; max-width: 340px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.col-chevron { color: var(--text-muted); font-size: 13px; width: 24px; text-align: center; }

/* Type badges — colored like local app */
.log-type { display: inline-block; padding: 2px 8px; border-radius: 3px; font-size: 10px; font-weight: 800; text-transform: uppercase; letter-spacing: 0.3px; }
.type-scheduler { background: rgba(22,162,167,0.12); color: #0d9488; }
.type-backup { background: rgba(124,58,237,0.1); color: #7c3aed; }
.type-start { background: rgba(34,197,94,0.1); color: #16a34a; }
.type-stop { background: rgba(239,68,68,0.1); color: #dc2626; }
.type-restart { background: rgba(245,158,11,0.1); color: #d97706; }
.type-error { background: rgba(239,68,68,0.15); color: #dc2626; }
.type-snapshot { background: rgba(59,130,246,0.1); color: #2563eb; }
.type-info { background: rgba(100,116,139,0.1); color: #64748b; }

/* Result badges */
.log-result { display: inline-block; padding: 2px 8px; border-radius: 3px; font-size: 10px; font-weight: 800; }
.res-ok { background: rgba(34,197,94,0.1); color: #16a34a; }
.res-fail { background: rgba(239,68,68,0.1); color: #dc2626; }

/* Expand row */
.journal-expand td { padding: 0 !important; }
.expand-content { padding: 10px 16px; background: #f8fafc; font-size: 12px; color: var(--text-dim); font-family: 'JetBrains Mono', monospace; white-space: pre-wrap; word-break: break-all; border-bottom: 2px solid var(--primary); }

/* Pagination */
.pagination { display: flex; align-items: center; gap: 4px; margin-top: 12px; justify-content: center; }
.pg-btn {
  min-width: 32px; height: 32px; display: flex; align-items: center; justify-content: center;
  background: #fff; border: 1px solid var(--border-main); border-radius: var(--radius-sm);
  font-size: 12px; font-weight: 700; color: var(--text-dim); cursor: pointer; transition: all .1s;
}
.pg-btn:hover:not(:disabled) { border-color: var(--primary); color: var(--primary); }
.pg-btn:disabled { opacity: 0.4; cursor: not-allowed; }
.pg-active { background: var(--primary); color: #fff !important; border-color: var(--primary); }
.pg-info { font-size: 11px; color: var(--text-muted); margin-left: 8px; }

/* ============================================================
   SETTINGS TAB
   ============================================================ */
.settings-card { background: #fff; border: 1px solid var(--border-main); border-radius: var(--radius-md); padding: 20px; box-shadow: var(--shadow-card); margin-bottom: 20px; }
.settings-card h3 { font-size: 13px; font-weight: 700; margin: 16px 0 10px; padding-bottom: 6px; border-bottom: 1px solid var(--border-main); color: var(--primary); }
.settings-card h3:first-child { margin-top: 0; }
.s-grid { display: grid; grid-template-columns: 160px 1fr; gap: 8px 12px; align-items: center; }
.s-grid label { font-size: 12px; font-weight: 600; color: var(--text-dim); }
.s-grid input[type="text"], .s-grid input[type="password"], .s-grid input[type="number"], .s-grid input:not([type]) { width: 100%; padding: 6px 10px; font-size: 12px; }
.s-grid input[type="checkbox"] { width: 18px; height: 18px; accent-color: var(--primary); }
.s-grid select { width: 100%; padding: 6px 10px; font-size: 12px; border: 1px solid var(--border-main); border-radius: var(--radius-sm); background: #fff; cursor: pointer; }
.slider-row { display: flex; align-items: center; gap: 12px; }
.slider-row input[type="range"] { flex: 1; accent-color: var(--primary); height: 6px; }
.slider-val { font-size: 11px; font-weight: 600; color: var(--primary); white-space: nowrap; min-width: 80px; }
.retention-row { display: flex; align-items: center; gap: 8px; }
.retention-row input { width: 70px; padding: 6px 10px; font-size: 12px; }
.retention-hint { font-size: 11px; color: var(--text-muted); }
.s-actions { display: flex; justify-content: flex-end; margin-top: 14px; gap: 8px; }

/* Schedule form */
.sched-form { display: flex; flex-direction: column; gap: 10px; }
.sched-row { display: flex; align-items: center; gap: 12px; flex-wrap: wrap; }
.sched-row label { font-size: 12px; font-weight: 600; color: var(--text-dim); }
.sched-row input[type="time"] { width: 110px; padding: 6px 10px; font-size: 12px; border: 1px solid var(--border-main); border-radius: var(--radius-sm); }
.sched-row input:not([type="time"]) { flex: 1; min-width: 200px; padding: 6px 10px; font-size: 12px; border: 1px solid var(--border-main); border-radius: var(--radius-sm); }
.sched-vms-label { font-size: 12px; font-weight: 600; color: var(--text-dim); }
.sched-vms { display: flex; flex-wrap: wrap; gap: 6px; }
.vm-chip {
  display: flex; align-items: center; gap: 4px; padding: 4px 10px;
  background: #f7fafc; border: 1px solid var(--border-main); border-radius: 999px;
  font-size: 11px; font-weight: 600; cursor: pointer; transition: all .1s; user-select: none;
}
.vm-chip input { display: none; }
.vm-chip.active { background: rgba(22,162,167,0.1); border-color: var(--primary); color: var(--primary); }
.vm-chip:hover { border-color: var(--primary); }

/* Schedules list */
.schedule-list { display: flex; flex-direction: column; gap: 4px; }
.schedule-row {
  display: flex; align-items: center; gap: 14px; padding: 8px 14px;
  background: #fff; border: 1px solid var(--border-main); border-radius: var(--radius-sm);
  font-size: 12px;
}
.cron-tag { font-family: 'JetBrains Mono', monospace; color: var(--primary); font-weight: 700; white-space: nowrap; }
.dest-tag { color: var(--text-dim); font-family: 'JetBrains Mono', monospace; font-size: 11px; }
.sched-vms-text { flex: 1; color: var(--text-main); font-size: 11px; }

/* ============================================================
   VM DETAIL MODAL
   ============================================================ */
.modal-lg { width: 560px; max-height: 80vh; overflow-y: auto; }
.modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 14px; }
.modal-header h2 { margin: 0; font-size: 16px; }
.modal-close { background: none; border: none; font-size: 18px; color: var(--text-muted); cursor: pointer; padding: 2px 6px; border-radius: 4px; }
.modal-close:hover { color: var(--danger); background: rgba(211,59,59,0.08); }
.detail-grid { display: flex; flex-direction: column; gap: 2px; }
.detail-row { display: flex; justify-content: space-between; align-items: baseline; padding: 5px 0; border-bottom: 1px solid var(--border-main); font-size: 12px; }
.detail-row:last-child { border-bottom: none; }
.dl { font-weight: 700; color: var(--text-dim); min-width: 100px; }
.modal-lg h3 { font-size: 12px; font-weight: 700; margin: 14px 0 6px; color: var(--primary); text-transform: uppercase; letter-spacing: 0.5px; }

/* ============================================================
   MINI CHARTS
   ============================================================ */
.mini-chart { display: block; }
.hm-top { display: flex; justify-content: space-between; align-items: flex-start; gap: 8px; }
.hm-sub { font-size: 10px; color: var(--text-muted); margin-top: -2px; }

/* ============================================================
   BACKUP STATUS
   ============================================================ */
.bk-running { border-left: 3px solid var(--warning); }
.bk-done { border-left: 3px solid var(--success); }
.bk-error { border-left: 3px solid var(--danger); }
.bk-indicator { font-size: 10px; font-weight: 700; padding: 2px 8px; border-radius: 3px; }
.bk-ind-run { background: rgba(245,158,11,0.1); color: #d97706; animation: pulse-bg 1.5s infinite; }
.bk-ind-ok { background: rgba(34,197,94,0.1); color: #16a34a; }
.bk-ind-err { background: rgba(239,68,68,0.1); color: #dc2626; }
@keyframes pulse-bg { 0%,100% { opacity: 1; } 50% { opacity: 0.5; } }

.spinner {
  display: inline-block; width: 14px; height: 14px;
  border: 2px solid rgba(255,255,255,0.3); border-top-color: #fff;
  border-radius: 50%; animation: spin 0.6s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* ============================================================
   SERVICE CONTROLS
   ============================================================ */
.svc-controls { margin-left: auto; display: flex; align-items: center; gap: 8px; }
.svc-badge { font-size: 11px; font-weight: 700; padding: 4px 12px; border-radius: var(--radius-sm); }
.svc-on { background: rgba(34,197,94,0.1); color: #16a34a; }
.svc-off { background: rgba(239,68,68,0.1); color: #dc2626; }

/* ============================================================
   MODAL BODY / FOOTER (Rename, Delete, Snapshot)
   ============================================================ */
.modal-body { padding: 16px 24px; }
.modal-footer { display: flex; justify-content: flex-end; gap: 8px; padding: 12px 24px; border-top: 1px solid var(--border-main); }
.modal-label { display: block; font-size: 12px; font-weight: 600; color: var(--text-dim); margin-bottom: 6px; }
.modal-input {
  width: 100%; padding: 10px 14px; font-size: 14px; border: 1px solid var(--border-main);
  border-radius: var(--radius-sm); outline: none; transition: border-color .15s;
}
.modal-input:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(22,162,167,0.12); }
.btn-cancel {
  padding: 8px 20px; font-size: 13px; font-weight: 600; border: 1px solid var(--border-main);
  border-radius: var(--radius-sm); background: #fff; color: var(--text-dim); cursor: pointer; transition: all .1s;
}
.btn-cancel:hover { background: #f1f5f9; }
.btn-primary {
  padding: 8px 20px; font-size: 13px; font-weight: 700; border: none;
  border-radius: var(--radius-sm); background: var(--primary); color: #fff; cursor: pointer; transition: all .1s;
}
.btn-primary:hover { opacity: 0.85; }
.btn-danger {
  padding: 8px 20px; font-size: 13px; font-weight: 700; border: none;
  border-radius: var(--radius-sm); background: var(--danger); color: #fff; cursor: pointer; transition: all .1s;
}
.btn-danger:hover { opacity: 0.85; }
.delete-warn { font-size: 14px; color: var(--danger); font-weight: 600; line-height: 1.5; margin: 0; }

/* ============================================================
   TOAST NOTIFICATIONS
   ============================================================ */
.toast-container {
  position: fixed; top: 16px; right: 16px; z-index: 9999;
  display: flex; flex-direction: column; gap: 8px; pointer-events: none;
}
.toast {
  display: flex; align-items: center; gap: 10px; padding: 10px 18px;
  border-radius: var(--radius-sm); font-size: 13px; font-weight: 600;
  box-shadow: 0 6px 20px rgba(0,0,0,0.15); pointer-events: auto;
  animation: toast-in 0.3s ease;
  min-width: 260px; max-width: 420px;
}
.toast-icon { font-size: 15px; font-weight: 800; }
.toast-success { background: #f0fdf4; color: #16a34a; border: 1px solid rgba(34,197,94,0.3); }
.toast-error { background: #fef2f2; color: #dc2626; border: 1px solid rgba(239,68,68,0.3); }
.toast-info { background: #f0f9ff; color: #0284c7; border: 1px solid rgba(14,165,233,0.3); }
@keyframes toast-in { from { opacity: 0; transform: translateX(30px); } to { opacity: 1; transform: translateX(0); } }

/* ============================================================
   STATISTICS PAGE
   ============================================================ */
.page-stats { padding: 0; }
.page-stats h1 { margin-bottom: 16px; }
.stats-charts { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 14px; margin-top: 14px; }
.stats-card {
  background: #fff; border: 1px solid var(--border-main); border-radius: var(--radius-md);
  padding: 16px 20px; box-shadow: var(--shadow-card);
}
.stats-card h3 { font-size: 13px; font-weight: 700; color: var(--text-dim); margin: 0 0 12px 0; text-transform: uppercase; letter-spacing: 0.5px; }
.stats-card-center { display: flex; flex-direction: column; align-items: center; }

/* Bar chart */
.bar-chart { display: flex; flex-direction: column; gap: 8px; }
.bar-row { display: flex; align-items: center; gap: 8px; }
.bar-label { font-size: 12px; font-weight: 600; color: var(--text-dim); min-width: 80px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.bar-track { flex: 1; height: 18px; background: #f1f5f9; border-radius: 4px; overflow: hidden; }
.bar-fill { height: 100%; border-radius: 4px; transition: width 0.5s ease; min-width: 2px; }
.bar-val { font-size: 12px; font-weight: 700; color: var(--text-main); min-width: 36px; text-align: right; }

/* Donut chart */
.donut-chart { width: 130px; height: 130px; margin: 4px 0; }

/* ============================================================
   HOST INFO BANNER
   ============================================================ */
.host-info-banner {
  display: flex; align-items: center; justify-content: space-between;
  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
  border: 1px solid var(--border-main); border-radius: var(--radius-md);
  padding: 18px 24px; margin-bottom: 16px;
  box-shadow: var(--shadow-card);
}
.hib-main { display: flex; align-items: center; gap: 14px; }
.hib-icon { font-size: 36px; }
.hib-name { font-size: 18px; font-weight: 800; color: var(--text-main); letter-spacing: 0.3px; }
.hib-os { font-size: 12px; color: var(--text-dim); margin-top: 2px; }
.hib-stats { display: flex; gap: 28px; }
.hib-stat { display: flex; flex-direction: column; align-items: center; }
.hib-stat-val { font-size: 16px; font-weight: 800; color: var(--text-main); }
.hib-stat-lbl { font-size: 10px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px; margin-top: 2px; }

/* ============================================================
   LINE CHART
   ============================================================ */
.charts-grid {
  display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px;
}
.line-chart-card {
  background: #fff; border: 1px solid var(--border-main); border-radius: var(--radius-md);
  padding: 6px 8px; box-shadow: var(--shadow-card);
  overflow: hidden;
}
.lc-header { display: flex; flex-direction: column; gap: 1px; margin-bottom: 2px; }
.lc-title { font-size: 10px; font-weight: 700; color: var(--text-main); }
.lc-stats { display: flex; gap: 6px; }
.lc-stat { font-size: 9px; color: var(--text-dim); display: flex; align-items: center; gap: 2px; }
.lc-stat b { color: var(--text-main); font-weight: 700; }
.lc-dot { width: 6px; height: 6px; border-radius: 50%; display: inline-block; }
.line-chart-svg { width: 100%; height: auto; display: block; }
.chart-empty {
  text-align: center; padding: 40px 16px; color: var(--text-muted);
  font-size: 12px; background: #f9fafb; border-radius: var(--radius-md);
  border: 1px dashed var(--border-main);
}

.disk-stack-chart-card {
  min-height: 164px;
}

.disk-stack-list {
  display: flex;
  flex-direction: column;
  gap: 7px;
}

.disk-stack-row {
  display: grid;
  grid-template-columns: 34px 1fr 42px;
  align-items: center;
  gap: 6px;
}

.disk-stack-drive {
  font-size: 10px;
  font-weight: 700;
  color: var(--text-dim);
}

.disk-stack-track {
  display: flex;
  height: 20px;
  border-radius: 5px;
  overflow: hidden;
  background: #e2e8f0;
  border: 1px solid #d1d5db;
}

.disk-stack-used,
.disk-stack-free {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 9px;
  font-weight: 700;
  white-space: nowrap;
  transition: width 0.35s ease;
}

.disk-stack-used {
  background: #4f6ccf;
  color: #f8fafc;
}

.disk-stack-free {
  background: #b0cf2f;
  color: #1f2937;
}

.disk-stack-pct {
  font-size: 10px;
  font-weight: 700;
  color: var(--text-main);
  text-align: right;
}

/* ============================================================
   CENTRAL SETTINGS PAGE
   ============================================================ */
.page-settings-central { padding: 0; }
.page-settings-central h1 { margin-bottom: 20px; }
.cfg-form {
  width: min(1100px, 100%);
  max-width: 1100px;
  display: grid;
  grid-template-columns: repeat(2, minmax(340px, 1fr));
  gap: 14px;
}
.cfg-section { background: #fff; border: 1px solid var(--border-main); border-radius: var(--radius-md); padding: 18px 22px; margin-bottom: 0; box-shadow: var(--shadow-card); }
.cfg-section h3 { font-size: 13px; font-weight: 700; color: var(--text-dim); margin: 0 0 14px 0; text-transform: uppercase; letter-spacing: 0.5px; }
.cfg-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; }
.cfg-label { font-size: 13px; font-weight: 600; color: var(--text-main); }
.cfg-inline-actions {
  display: flex;
  align-items: center;
  gap: 8px;
}
.license-badge {
  display: inline-flex;
  align-items: center;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 700;
  border: 1px solid var(--border-main);
  background: #f8fafc;
  color: var(--text-main);
}
.license-active { background: #ecfdf5; color: #166534; border-color: #86efac; }
.license-grace { background: #fefce8; color: #854d0e; border-color: #fcd34d; }
.license-expired,
.license-revoked,
.license-invalid,
.license-over_limit { background: #fef2f2; color: #991b1b; border-color: #fca5a5; }
.license-unconfigured,
.license-unknown { background: #f1f5f9; color: #334155; border-color: #cbd5e1; }
.license-details {
  margin-top: 8px;
  display: grid;
  gap: 4px;
  font-size: 12px;
  color: var(--text-dim);
}
.cfg-actions {
  margin-top: 0;
  display: flex;
  flex-direction: column;
  gap: 10px;
  grid-column: 1 / -1;
}
.cfg-actions-main {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}
.cfg-actions-backup {
  border: 1px solid var(--border-main);
  border-radius: var(--radius-sm);
  background: #f8fafb;
  padding: 10px;
}
.cfg-actions-caption {
  font-size: 11px;
  font-weight: 700;
  color: var(--text-dim);
  text-transform: uppercase;
  letter-spacing: 0.4px;
  margin-bottom: 8px;
}
.cfg-actions-row {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}
.cfg-row-col { display: flex; flex-direction: column; gap: 8px; margin-bottom: 10px; }
.cfg-color-picker { width: 36px; height: 30px; border: 1px solid var(--border-main); border-radius: var(--radius-sm); padding: 2px; cursor: pointer; background: none; }
.cfg-bg-upload { display: flex; align-items: center; gap: 8px; margin-top: 4px; }
.cfg-bg-preview { margin-top: 8px; border: 1px solid var(--border-main); border-radius: var(--radius-md); overflow: hidden; max-width: 340px; }
.cfg-bg-preview img { width: 100%; height: 140px; object-fit: cover; display: block; }
.cfg-bg-color-preview { width: 100%; height: 80px; }
.btn-secondary { background: var(--bg-card); color: var(--text-dim); border: 1px solid var(--border-main); border-radius: var(--radius-sm); padding: 6px 14px; font-size: 12px; font-weight: 600; cursor: pointer; transition: all 0.15s; }
.btn-secondary:hover { border-color: var(--border-hover); background: #f8f9fa; }
.btn-danger-sm { background: #fef2f2; color: var(--danger); border: 1px solid rgba(239,68,68,0.3); border-radius: var(--radius-sm); padding: 6px 12px; font-size: 11px; font-weight: 600; cursor: pointer; }
.btn-danger-sm:hover { background: #fee2e2; }

@media (max-width: 760px) {
  .cfg-form {
    grid-template-columns: 1fr;
  }
  .cfg-inline-actions {
    width: 100%;
    flex-direction: column;
    align-items: stretch;
  }
  .cfg-inline-actions input,
  .cfg-inline-actions button {
    width: 100% !important;
  }
  .cfg-actions-main,
  .cfg-actions-row {
    flex-direction: column;
    align-items: stretch;
  }
  .cfg-actions-main button,
  .cfg-actions-row button {
    width: 100%;
  }
}

/* ============================================================
   S3 BROWSER PAGE — Explorer style
   ============================================================ */
.page-s3 { padding: 0; display: flex; flex-direction: column; height: 100%; }
.s3-header { display: flex; align-items: center; gap: 16px; margin-bottom: 12px; }
.s3-header h1 { margin: 0; white-space: nowrap; }
.s3-agent-select { width: 220px; }
.s3-error { background: #fef2f2; color: var(--danger); padding: 10px 14px; border-radius: var(--radius-md); border: 1px solid rgba(239,68,68,0.2); margin-bottom: 10px; font-size: 13px; }

/* Two-panel explorer layout */
.s3-explorer { display: flex; flex: 1; min-height: 0; border: 1px solid var(--border-main); border-radius: var(--radius-md); overflow: hidden; background: #fff; }

/* Left tree panel */
.s3-tree-panel { width: 240px; min-width: 180px; max-width: 300px; border-right: 1px solid var(--border-main); overflow-y: auto; background: #f9fafb; padding: 4px 0; }
.s3-tree-item { display: flex; align-items: center; gap: 4px; width: 100%; padding: 5px 8px; border: none; background: none; cursor: pointer; font-size: 12px; color: var(--text-main); text-align: left; border-radius: 0; transition: background 0.1s; }
.s3-tree-item:hover { background: rgba(22,162,167,0.06); }
.s3-tree-active { background: rgba(22,162,167,0.12) !important; font-weight: 600; }
.s3-tree-root { font-weight: 600; font-size: 13px; }
.s3-tree-arrow { width: 14px; text-align: center; font-size: 10px; color: var(--text-dim); flex-shrink: 0; cursor: pointer; }
.s3-tree-arrow:hover { color: var(--primary); }
.s3-tree-icon { font-size: 14px; flex-shrink: 0; }
.s3-tree-label { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

/* Right file panel */
.s3-file-panel { flex: 1; display: flex; flex-direction: column; min-width: 0; overflow: hidden; }

/* Address bar */
.s3-address-bar { display: flex; align-items: center; gap: 2px; padding: 6px 10px; border-bottom: 1px solid var(--border-main); background: #f5f6f8; font-size: 12px; min-height: 32px; }
.s3-addr-btn { background: none; border: none; cursor: pointer; color: var(--text-dim); font-size: 12px; font-weight: 500; padding: 2px 4px; border-radius: 3px; }
.s3-addr-btn:hover { background: rgba(22,162,167,0.08); color: var(--primary); }
.s3-addr-sep { color: var(--text-muted); font-size: 11px; margin: 0 1px; }

/* Column header */
.s3-list-header { display: flex; align-items: center; padding: 0 10px; border-bottom: 1px solid var(--border-main); background: #f9fafb; font-size: 11px; font-weight: 600; color: var(--text-dim); min-height: 28px; user-select: none; }

/* Column widths */
.s3-col-name { flex: 3; min-width: 0; padding: 4px 6px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.s3-col-date { flex: 2; min-width: 0; padding: 4px 6px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.s3-col-type { flex: 1; min-width: 0; padding: 4px 6px; white-space: nowrap; }
.s3-col-size { flex: 1; min-width: 0; padding: 4px 6px; text-align: right; white-space: nowrap; }
.s3-col-actions { width: 68px; flex-shrink: 0; padding: 4px 6px; display: flex; gap: 4px; justify-content: flex-end; }

/* File list body */
.s3-list-body { flex: 1; overflow-y: auto; }
.s3-list-row { display: flex; align-items: center; padding: 0 10px; font-size: 12px; color: var(--text-main); border-bottom: 1px solid #f0f0f0; min-height: 30px; cursor: default; transition: background 0.08s; overflow: hidden; }
.s3-list-row:hover { background: #e8f4f8; }

/* Folder & file name buttons */
.s3-folder-btn { background: none; border: none; color: var(--text-main); cursor: pointer; font-size: 12px; font-weight: 600; padding: 0; text-align: left; display: flex; align-items: center; gap: 0; }
.s3-folder-btn:hover { color: var(--primary); }
.s3-file-name { display: flex; align-items: center; }
.s3-file-icon { margin-right: 6px; font-size: 14px; flex-shrink: 0; }

/* Empty state inside explorer */
.s3-empty { padding: 40px; text-align: center; color: var(--text-muted); font-size: 13px; }

/* Status bar */
.s3-status-bar { padding: 4px 12px; border-top: 1px solid var(--border-main); background: #f9fafb; font-size: 11px; color: var(--text-dim); }

/* Action buttons */
.btn-sm { width: 26px; height: 26px; border-radius: var(--radius-sm); border: 1px solid var(--border-main); background: var(--bg-card); cursor: pointer; font-size: 11px; display: flex; align-items: center; justify-content: center; transition: all 0.15s; }
.btn-sm:hover { border-color: var(--primary); background: rgba(22,162,167,0.08); }
.btn-sm-danger:hover { border-color: var(--danger); background: #fef2f2; color: var(--danger); }

/* Background gallery */
.bg-gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px; }
.bg-gallery-item {
  position: relative; border-radius: var(--radius-md); overflow: hidden;
  border: 2px solid var(--border-main); cursor: pointer; transition: all 0.15s;
}
.bg-gallery-item:hover { border-color: var(--primary); }
.bg-gallery-item.bg-selected { border-color: var(--primary); box-shadow: 0 0 0 2px rgba(22,162,167,0.3); }
.bg-gallery-item img { width: 100%; height: 80px; object-fit: cover; display: block; }
.bg-gallery-del {
  position: absolute; top: 4px; right: 4px; width: 20px; height: 20px;
  background: rgba(0,0,0,0.55); color: #fff; border: none; border-radius: 50%;
  font-size: 10px; display: flex; align-items: center; justify-content: center;
  cursor: pointer; opacity: 0; transition: opacity 0.15s;
}
.bg-gallery-item:hover .bg-gallery-del { opacity: 1; }
.bg-gallery-del:hover { background: var(--danger); }
.bg-gallery-check {
  position: absolute; bottom: 4px; right: 4px; width: 22px; height: 22px;
  background: var(--primary); color: #fff; border-radius: 50%;
  font-size: 12px; font-weight: 800; display: flex; align-items: center; justify-content: center;
}

/* ============================================================
   MISC
   ============================================================ */
/* Sub-tabs (storage) */
.sub-tab {
  padding: 6px 16px; border: 1px solid var(--border-main); background: var(--bg-card);
  color: var(--text-dim); font-size: 12px; font-weight: 600; cursor: pointer;
  transition: all 0.12s;
}
.sub-tab:first-child { border-radius: var(--radius-sm) 0 0 var(--radius-sm); }
.sub-tab:last-child { border-radius: 0 var(--radius-sm) var(--radius-sm) 0; }
.sub-tab:not(:first-child) { border-left: none; }
.sub-tab:hover { background: rgba(22,162,167,0.06); }
.sub-tab.active { background: var(--primary); color: #fff; border-color: var(--primary); }

.empty-state { text-align: center; padding: 40px; color: var(--text-muted); font-size: 13px; }
.loading { text-align: center; padding: 60px; color: var(--text-muted); font-size: 14px; }

/* ============================================================
   LOGIN PAGE
   ============================================================ */
.login-page {
  display: flex; align-items: center; justify-content: center;
  min-height: 100vh; background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
}
.login-card {
  background: #fff; border-radius: 16px; padding: 40px 36px; width: 360px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.3); text-align: center;
}
.login-logo { width: 80px; height: auto; margin-bottom: 16px; border-radius: 0; object-fit: contain; }
.login-card h2 { font-size: 20px; font-weight: 800; color: #1e293b; margin: 0 0 8px 0; }
.login-hint { font-size: 13px; color: #64748b; margin: 0 0 20px 0; }
.login-card form { display: flex; flex-direction: column; gap: 12px; }
.login-card input {
  width: 100%; padding: 12px 14px; border: 1.5px solid #e2e8f0; border-radius: 10px;
  font-size: 14px; outline: none; transition: border-color 0.2s; box-sizing: border-box;
}
.login-card input:focus { border-color: var(--primary); }
.login-card button[type="submit"] {
  width: 100%; padding: 12px; border: none; border-radius: 10px;
  background: var(--primary); color: #fff; font-size: 14px; font-weight: 700;
  cursor: pointer; transition: opacity 0.2s; margin-top: 4px;
}
.login-card button[type="submit"]:hover { opacity: 0.9; }
.login-card button[type="submit"]:disabled { opacity: 0.5; cursor: not-allowed; }
.login-error { color: var(--danger); font-size: 13px; text-align: left; padding: 2px 0; }

/* ============================================================
   SIDEBAR USER SECTION
   ============================================================ */
.sidebar-user {
  padding: 12px 16px; border-top: 1px solid rgba(255,255,255,0.08);
  display: flex; align-items: center; gap: 8px; margin-top: auto;
}
.sidebar-user-info { display: flex; align-items: center; gap: 6px; flex: 1; min-width: 0; }
.sidebar-user-icon { font-size: 16px; }
.sidebar-user-name { font-size: 12px; font-weight: 600; color: #e2e8f0; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.sidebar-user-role { font-size: 10px; color: #94a3b8; background: rgba(255,255,255,0.08); padding: 1px 6px; border-radius: 8px; }
.sidebar-logout {
  background: none; border: 1px solid rgba(255,255,255,0.15); color: #94a3b8;
  width: 28px; height: 28px; border-radius: 8px; cursor: pointer; font-size: 14px;
  display: flex; align-items: center; justify-content: center; transition: all 0.15s; flex-shrink: 0;
}
.sidebar-logout:hover { background: rgba(239,68,68,0.15); color: #ef4444; border-color: rgba(239,68,68,0.3); }

/* ============================================================
   USER MANAGEMENT
   ============================================================ */
.users-list { display: flex; flex-direction: column; gap: 6px; margin-bottom: 14px; }
.user-row {
  display: flex; align-items: center; gap: 10px; padding: 8px 10px;
  background: #f8fafc; border: 1px solid var(--border-main); border-radius: var(--radius-sm);
}
.user-icon { font-size: 16px; }
.user-name { font-size: 13px; font-weight: 600; color: var(--text-main); }
.user-role-badge {
  font-size: 10px; font-weight: 600; padding: 2px 8px; border-radius: 8px;
  background: rgba(22,162,167,0.1); color: var(--primary);
}
.user-date { font-size: 11px; color: var(--text-muted); margin-left: auto; }
.user-add-form { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; }

/* ============================================================
   LICENSE SERVER PAGE
   ============================================================ */
.page-license-server { padding: 16px 20px; overflow-y: auto; }
.page-license-server h1 { font-size: 20px; font-weight: 700; margin-bottom: 16px; color: #fff; text-shadow: 0 1px 2px rgba(0,0,0,0.2); }
.page-license-server h2 { font-size: 14px; font-weight: 600; margin-bottom: 12px; color: var(--text-main); }

/* Tags */
.tag { display: inline-block; font-size: 10px; padding: 2px 8px; border-radius: 6px; font-weight: 600; text-transform: uppercase; }
.tag-basic { background: #e0f2fe; color: #0369a1; }
.tag-pro { background: #dcfce7; color: #166534; }
.tag-enterprise { background: #f3e8ff; color: #7c3aed; }
.tag-active { background: #dcfce7; color: #166534; }
.tag-revoked { background: #fee2e2; color: #991b1b; }
.tag-expired { background: #fef3c7; color: #92400e; }

/* Export menu */
.export-menu.show { display: block !important; animation: modalIn 0.15s ease; }
@keyframes modalIn { from { opacity: 0; transform: translateY(-8px) scale(0.98); } to { opacity: 1; transform: none; } }

/* Confirm modal */
.confirm-modal { text-align: center; max-width: 380px; padding: 24px; }
.confirm-icon { width: 56px; height: 56px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 28px; margin-bottom: 12px; }
.confirm-icon.warn { background: linear-gradient(135deg, #fef3c7, #fde68a); color: #92400e; }
.confirm-icon.danger { background: linear-gradient(135deg, #fee2e2, #fecaca); color: #dc2626; }
.confirm-icon.info { background: linear-gradient(135deg, #dbeafe, #bfdbfe); color: #1d4ed8; }
.confirm-modal h3 { margin: 0 0 6px; font-size: 17px; font-weight: 700; color: var(--text-main); }
.confirm-modal p { margin: 0 0 20px; font-size: 13px; color: var(--text-dim); line-height: 1.5; }

/* Button sizes */
.btn-xs { padding: 4px 8px; font-size: 11px; border-radius: 4px; background: var(--bg-card); border: 1px solid var(--border-main); cursor: pointer; }
.btn-xs:hover { background: var(--border-hover); }
.btn-warn { color: var(--warning); border-color: var(--warning); }
.btn-danger { color: var(--danger); border-color: var(--danger); }

::-webkit-scrollbar { width: 5px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border-main); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--text-muted); }
